[gd_scene load_steps=5 format=2]

[ext_resource path="res://Scenes/Game/Game.tscn" type="PackedScene" id=1]
[ext_resource path="res://Scenes/Game/UI/UI.tscn" type="PackedScene" id=2]

[sub_resource type="GDScript" id=1]
script/source = "extends Control

@onready var viewport2 = $\"%Viewport2\"

func _ready() -> void:
	set_meta(\"split-screen\", true)
	$\"%Viewport2\".world_2d = $\"%Viewport1\".world_2d
"

[sub_resource type="GDScript" id=2]
resource_name = "SplitContainer"
script/source = "extends SubViewportContainer

@onready var viewport: SubViewport = Utils.get_node_by_type(self, SubViewport)

func _gui_input(event: InputEvent) -> void:
	viewport.input(event)
"

[node name="SplitScreenGame" type="HBoxContainer"]
process_mode = 3
anchor_right = 1.0
anchor_bottom = 1.0
script = SubResource( 1 )

[node name="SubViewportContainer" type="SubViewportContainer" parent="."]
offset_right = 3840.0
offset_bottom = 2160.0
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true
script = SubResource( 2 )

[node name="Viewport1" type="SubViewport" parent="SubViewportContainer"]
process_mode = 1
unique_name_in_owner = true
size = Vector2( 3840, 2160 )
handle_input_locally = false
usage = 0
render_target_update_mode = 3

[node name="Game" parent="SubViewportContainer/Viewport1" instance=ExtResource( 1 )]

[node name="ViewportContainer2" type="SubViewportContainer" parent="."]
visible = false
offset_left = 1922.0
offset_right = 3840.0
offset_bottom = 2160.0
size_flags_horizontal = 3
size_flags_vertical = 3
stretch = true
script = SubResource( 2 )

[node name="Viewport2" type="SubViewport" parent="ViewportContainer2"]
process_mode = 1
unique_name_in_owner = true
size = Vector2( 1918, 2160 )
handle_input_locally = false
usage = 0
render_target_update_mode = 0

[node name="UI" parent="ViewportContainer2/Viewport2" instance=ExtResource( 2 )]
