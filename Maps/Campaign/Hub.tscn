[gd_scene load_steps=88 format=2]

[ext_resource path="res://Nodes/Buildings/HeroCenter/HeroCenter.tscn" type="PackedScene" id=1]
[ext_resource path="res://Nodes/Map/MapPixelMap.gd" type="Script" id=2]
[ext_resource path="res://Resources/Materials/FloorMaterial_4tex.gdshader" type="Shader" id=3]
[ext_resource path="res://Maps/Campaign/HubNodes/Elevator.tscn" type="PackedScene" id=4]
[ext_resource path="res://Nodes/Buildings/Storage/Storage.tscn" type="PackedScene" id=5]
[ext_resource path="res://Resources/Terrain/Images/FloorSteel.png" type="Texture2D" id=6]
[ext_resource path="res://Nodes/Buildings/Reactor/Reactor.tscn" type="PackedScene" id=7]
[ext_resource path="res://Nodes/Buildings/Icons/IconPylon.tscn" type="PackedScene" id=8]
[ext_resource path="res://Nodes/Buildings/Icons/IconStand.tscn" type="PackedScene" id=9]
[ext_resource path="res://Nodes/Buildings/Icons/IconBombTurret.tscn" type="PackedScene" id=10]
[ext_resource path="res://Nodes/Buildings/Icons/IconPistolWorkshop.tscn" type="PackedScene" id=11]
[ext_resource path="res://Resources/Terrain/Images/FloorSandy.png" type="Texture2D" id=12]
[ext_resource path="res://Nodes/Buildings/Icons/IconDrillWorkshop.tscn" type="PackedScene" id=13]
[ext_resource path="res://Nodes/Map/Map.gd" type="Script" id=14]
[ext_resource path="res://Nodes/Buildings/Icons/IconMachinegunTurret.tscn" type="PackedScene" id=15]
[ext_resource path="res://Nodes/Buildings/Lab/Lab.tscn" type="PackedScene" id=16]
[ext_resource path="res://Resources/Misc/MapEnvironment.tres" type="Environment" id=17]
[ext_resource path="res://Nodes/Buildings/Icons/IconSniperTurret.tscn" type="PackedScene" id=18]
[ext_resource path="res://Nodes/Buildings/Icons/IconHealthCenter.tscn" type="PackedScene" id=19]
[ext_resource path="res://Nodes/Map/ZIndexer.tscn" type="PackedScene" id=20]
[ext_resource path="res://Nodes/Buildings/Icons/IconShotgunWorkshop.tscn" type="PackedScene" id=21]
[ext_resource path="res://Nodes/Buildings/Icons/IconLumenCannon.tscn" type="PackedScene" id=22]
[ext_resource path="res://Nodes/Buildings/Icons/IconMachinegunWorkshop.tscn" type="PackedScene" id=23]
[ext_resource path="res://Nodes/Buildings/Icons/IconSpearWorkshop.tscn" type="PackedScene" id=24]
[ext_resource path="res://Nodes/Map/PixelMapFloor.tscn" type="PackedScene" id=25]
[ext_resource path="res://Nodes/Buildings/Icons/IconExplosiveWorkshop.tscn" type="PackedScene" id=26]
[ext_resource path="res://Nodes/Buildings/Icons/IconShredder.tscn" type="PackedScene" id=27]
[ext_resource path="res://Nodes/Buildings/Icons/IconTower.tscn" type="PackedScene" id=28]
[ext_resource path="res://Nodes/Buildings/Icons/IconUtilsWorkshop.tscn" type="PackedScene" id=29]
[ext_resource path="res://Nodes/Buildings/Icons/IconFarm.tscn" type="PackedScene" id=30]
[ext_resource path="res://Nodes/Buildings/Icons/IconRocketLauncherWorkshop.tscn" type="PackedScene" id=31]
[ext_resource path="res://Nodes/Buildings/Icons/IconFlamethrowerWorkshop.tscn" type="PackedScene" id=32]
[ext_resource path="res://Nodes/Buildings/Icons/IconInfoCenter.tscn" type="PackedScene" id=33]
[ext_resource path="res://Nodes/Buildings/Icons/IconWall.tscn" type="PackedScene" id=34]
[ext_resource path="res://Nodes/Enemies/Spawners/WaveSpawner.tscn" type="PackedScene" id=35]
[ext_resource path="res://Nodes/Buildings/Icons/IconGate.tscn" type="PackedScene" id=36]
[ext_resource path="res://Nodes/Effects/Smoke_Clouds_Fog2.tscn" type="PackedScene" id=37]
[ext_resource path="res://Nodes/UI/Achievemen't.png" type="Texture2D" id=38]
[ext_resource path="res://Nodes/Effects/DarknessByDistance.tscn" type="PackedScene" id=39]
[ext_resource path="res://Resources/Materials/FloorMaterial_4tex_waved.gdshader" type="Shader" id=40]
[ext_resource path="res://Resources/Textures/1px.png" type="Texture2D" id=41]
[ext_resource path="res://Nodes/Effects/SmokeBigFog.gdshader" type="Shader" id=42]
[ext_resource path="res://Nodes/Effects/Smoke_Clouds_Fog5.tscn" type="PackedScene" id=43]
[ext_resource path="res://Nodes/Effects/Smoke_Clouds_Fog4.tscn" type="PackedScene" id=44]
[ext_resource path="res://Nodes/Effects/Smoke_Clouds_Fog3.tscn" type="PackedScene" id=45]
[ext_resource path="res://Nodes/Effects/Wind_Arctic.tscn" type="PackedScene" id=46]
[ext_resource path="res://Nodes/Effects/Wind_Blowing.tscn" type="PackedScene" id=47]
[ext_resource path="res://Nodes/Lights/LightSprite.tscn" type="PackedScene" id=48]
[ext_resource path="res://SFX/Explosion/detonation_emp.wav" type="AudioStream" id=49]
[ext_resource path="res://Maps/Campaign/HubNodes/endgame_scripts.gd" type="Script" id=50]
[ext_resource path="res://Resources/Textures/light6.png" type="Texture2D" id=51]
[ext_resource path="res://Nodes/Map/FloorPixelMap.gd" type="Script" id=52]
[ext_resource path="res://Resources/Terrain/FloorTextures/1DankDirt.tres" type="Resource" id=53]
[ext_resource path="res://Resources/Terrain/Images/FloorGlowingBiomass.png" type="Texture2D" id=54]
[ext_resource path="res://Resources/Terrain/Images/FloorBiomass.png" type="Texture2D" id=55]
[ext_resource path="res://SFX/Misc/discharge.wav" type="AudioStream" id=56]
[ext_resource path="res://Nodes/Buildings/Lab/tech_icons/spear2.png" type="Texture2D" id=57]
[ext_resource path="res://Resources/Terrain/Images/FloorMoss.png" type="Texture2D" id=58]
[ext_resource path="res://Resources/Terrain/Images/FloorFungus.png" type="Texture2D" id=59]
[ext_resource path="res://Nodes/Objects/Deco/Laptop.tscn" type="PackedScene" id=60]
[ext_resource path="res://Nodes/Lights/Textures/SmoothCircle.png" type="Texture2D" id=61]
[ext_resource path="res://Nodes/Buildings/Lab/tech_icons/drill_damage.png" type="Texture2D" id=62]
[ext_resource path="res://Nodes/Buildings/Lab/tech_icons/flamethrower.png" type="Texture2D" id=63]
[ext_resource path="res://Nodes/Buildings/Lab/tech_icons/pistol.png" type="Texture2D" id=64]
[ext_resource path="res://Nodes/Buildings/Lab/tech_icons/minigun.png" type="Texture2D" id=65]
[ext_resource path="res://Nodes/Buildings/Lab/tech_icons/shotgun.png" type="Texture2D" id=66]
[ext_resource path="res://Nodes/Buildings/Lab/tech_icons/rocket_launcher.png" type="Texture2D" id=67]
[ext_resource path="res://Maps/Campaign/HubNodes/BuildingNotUnlocked.tscn" type="PackedScene" id=68]

[sub_resource type="Shader" id=69]
code = "shader_type canvas_item;

uniform float contrast = 8.5;

// All components are in the range [0…1], including hue.
vec3 rgb2hsv(vec3 c)
{
    vec4 K = vec4(0.0, -1.0 / 3.0, 2.0 / 3.0, -1.0);
    vec4 p = mix(vec4(c.bg, K.wz), vec4(c.gb, K.xy), step(c.b, c.g));
    vec4 q = mix(vec4(p.xyw, c.r), vec4(c.r, p.yzx), step(p.x, c.r));

    float d = q.x - min(q.w, q.y);
    float e = 1.0e-10;
    return vec3(abs(q.z + (q.w - q.y) / (6.0 * d + e)), d / (q.x + e), q.x);
}

// All components are in the range [0…1], including hue.
vec3 hsv2rgb(vec3 c)
{
	c.r=c.g*contrast;
	c.g+=0.0;
	c.b+=0.0;
    vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);
    vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);
    return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 1.0), c.y);
}

void fragment() {
	ivec2 size = textureSize(TEXTURE, 0);
	vec4 color = texelFetch(TEXTURE,ivec2(UV*vec2(size)),0);
	COLOR.rgb = hsv2rgb(rgb2hsv(vec3(1.0,color.g,1.0)));
	COLOR.rgb *= color.r;
//	COLOR.rgb = vec3(COLOR.g*80.0);
	}"

[sub_resource type="ShaderMaterial" id=70]
shader = SubResource( 69 )
shader_param/contrast = 80.0

[sub_resource type="PixelMapMaterialData" id=72]
resource_local_to_scene = true
name_table = PackedStringArray( "Dirt", "Clay", "Rocks", "Poor Metal", "Metal", "Rich Metal", "Rock6", "Rock9", "Foam", "Steel", "Fireproof Foam", "Unused", "Concrete", "Unused", "Unused", "Unused", "Unused", "Unnamed", "Unnamed", "Unnamed", "Low building", "Wall", "Upgraded Wall", "Upgraded II Wall", "Tar", "Empty", "Dead Lumen", "Lumen", "Gate", "Water", "Lava", "Unnamed", "Building", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed", "Unnamed" )
durability_table = PackedInt32Array( 1, 5, 100, 1, 3, 9, 6, 9, 1, 8, 1, 1, 80, 2, 2, 1, 1, 2, 1, 1, 255, 2, 4, 6, 1, 1, 25, 1, 254, 1, 1, 1, 9999, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 )
simulated_materials = PackedInt32Array( 15, 16 )
reaction_table = PackedInt32Array( 15, 16, 14 )

[sub_resource type="Gradient" id=79]
offsets = PackedFloat32Array( 0.00566572, 1 )
colors = PackedColorArray( 1, 0, 0, 1, 0.784314, 0.784314, 0.784314, 1 )

[sub_resource type="ShaderMaterial" id=20]
shader = ExtResource( 42 )
shader_param/smoke_OCTAVES = 6
shader_param/smoke_speed = 2.0
shader_param/smoke_variation_speed = 2.0
shader_param/smoke_variation_mul = 1.0
shader_param/smoke_treshold = -0.082
shader_param/smoke_color = Plane( 0.828, 0.5, 0, 0.3 )
shader_param/global_transform = Transform2D( 637.267, 0, 0, 328.963, 167.369, 368.588 )

[sub_resource type="GDScript" id=21]
script/source = "extends Sprite2D
#tool

func get_canvas_transform() -> Transform2D:
	if Engine.is_editor_hint():
		return get_viewport().global_canvas_transform
	else:
		return get_viewport().canvas_transform


func _process(delta):
	var trans := get_canvas_transform()
	var camera_scale := trans.get_scale()
	var scale_inv = Vector2.ONE / camera_scale
	


	if Engine.is_editor_hint():
		self.scale=(get_viewport().size ) * scale_inv
	else:
		self.scale=(get_viewport().get_visible_rect().size ) * scale_inv

#	if ProjectSettings.get_setting(\"display/window/stretch/aspect\") == \"keep\":
#		self.scale = Const.RESOLUTION * scale_inv
#	else:
#		self.scale=get_viewport().size * scale_inv
	
	global_position= (-trans.origin) * scale_inv
	material.set_shader_parameter(\"global_transform\", get_global_transform())


	
	
	
	
	
	
"

[sub_resource type="GDScript" id=83]
script/source = "tool
extends Node2D

var texture: Texture2D

func _ready() -> void:
	if Music.is_switch_build():
		texture = load(\"res://Resources/Textures/Bacgroud_Hub_lq.jpg\")
		scale = Vector2.ONE
		$\"../Effects\".hide()
	else:
		texture = load(\"res://Resources/Textures/Bacgroud_Hub.jpg\")

func _draw() -> void:
	draw_texture(texture, -texture.get_size() / 2)
"

[sub_resource type="ShaderMaterial" id=75]
shader = ExtResource( 3 )
shader_param/resolution1 = 50.0
shader_param/resolution2 = 50.0
shader_param/resolution3 = 100.0
shader_param/resolution4 = 32.0
shader_param/hsvoffset1 = -1.43
shader_param/hsvsaturation1 = -0.188
shader_param/hsvlight1 = -0.035
shader_param/hsvoffset2 = -1.43
shader_param/hsvsaturation2 = -0.188
shader_param/hsvlight2 = -0.035
shader_param/hsvoffset3 = 0.01
shader_param/hsvsaturation3 = 0.0
shader_param/hsvlight3 = 0.0
shader_param/hsvoffset4 = -0.891
shader_param/hsvsaturation4 = -0.741
shader_param/hsvlight4 = 0.0
shader_param/use_black_as_alpha = false
shader_param/texture1 = ExtResource( 12 )
shader_param/texture2 = ExtResource( 12 )
shader_param/texture3 = ExtResource( 6 )
shader_param/texture4 = ExtResource( 12 )

[sub_resource type="PixelMapMaterialData" id=1]

[sub_resource type="ShaderMaterial" id=74]
shader = ExtResource( 40 )
shader_param/resolution1 = 30.0
shader_param/resolution2 = 30.0
shader_param/resolution3 = 50.0
shader_param/resolution4 = 24.736
shader_param/multiply1 = 1.0
shader_param/multiply2 = 8.0
shader_param/multiply3 = 0.657
shader_param/multiply4 = 1.0
shader_param/wavy1 = 1.0
shader_param/wavy2 = 0.6
shader_param/wavy3 = 0.3
shader_param/wavy4 = 0.0
shader_param/hsvoffset1 = -0.058
shader_param/hsvsaturation1 = -0.189
shader_param/hsvlight1 = 0.0
shader_param/hsvoffset2 = -0.058
shader_param/hsvsaturation2 = -0.189
shader_param/hsvlight2 = 0.0
shader_param/hsvoffset3 = 0.248
shader_param/hsvsaturation3 = -0.177
shader_param/hsvlight3 = 0.0
shader_param/hsvoffset4 = 0.0
shader_param/hsvsaturation4 = -0.418
shader_param/hsvlight4 = 0.0
shader_param/black_as_empty = false
shader_param/texture1 = ExtResource( 55 )
shader_param/texture2 = ExtResource( 54 )
shader_param/texture3 = ExtResource( 59 )
shader_param/texture4 = ExtResource( 58 )

[sub_resource type="GDScript" id=76]
resource_name = "HubEvents"
script/source = "extends \"res://Scripts/MapEvents.gd\"

const BLOCKING_BUILDINGS = [\"Drill Workshop\", \"Spear Workshop\", \"Pistol Workshop\", \"Machinegun Workshop\", \"Shotgun Workshop\", \"Flamethrower Workshop\", \"Rocket Launcher Workshop\", \"Lab\"]

func _config_map(config: Dictionary):
	var disabled: Array
	for building in Const.Buildings:
		disabled.append(building)
	config.disabled_buildings = disabled
	
	var techs: Dictionary
	for tech in Save.campaign.lab_technologies:
		techs[tech] = 1
	config.technology = techs
	
	var upgrades: Dictionary
	for upgrade in Save.campaign.player_upgrades:
		upgrades[upgrade] = Save.campaign.player_upgrades[upgrade]
	config.upgrades = upgrades
	config.weapon_upgrades = upgrades
	
	for level in Const.CampaignLevels.values():
		for reward in level.rewards:
			if reward in Const.Technology:
				if not reward in config.technology:
					config.technology[reward] = 2
	
	config.include_default = false
	config.inventory = [{id = \"DRILL\", amount = 1}]
	config.stats = {clones = 9999999}
	
	Utils.game.sandbox_options.salvage_buildings = false

func _gameplay_start() -> void:
	var available_buildings = Save.campaign.available_buildings
	if not \"Item Rack\" in available_buildings:
		available_buildings.append(\"Item Rack\")

	
	Music.stop()
	
	Save.block_save.clear()
	$\"%Storage\".stored_lumen = Save.campaign.resources.get(Const.ItemIDs.LUMEN, 0)
	$\"%Storage\".stored_metal = Save.campaign.resources.get(Const.ItemIDs.METAL_SCRAP, 0)
	$\"%Storage\".update_fullness()
	$\"%Storage\".update_gui()
	Utils.game.ui.minimap_panel.hide()
	Utils.game.ui.info_menu.is_minimap_visible = false
#	Utils.game.ui.info_menu.get_node(\"MapTechWindow/VBoxContainer/TabContainer/Map\").queue_free()
	Utils.game.ui.info_menu.get_node(\"MapTechWindow/VBoxContainer/TabContainer\").set_tab_hidden(0, true)
#	if Utils.game.main_player.has_node(\"Torso/Flashlight4HaloTp\"):
#		Utils.game.main_player.get_node(\"Torso/Flashlight4HaloTp\").hide()
#	Utils.game.core.get_node(\"LampaHalo\").hide()
#	Utils.game.core.get_node(\"LampaHalo2\").hide()
#	Utils.game.core.get_node(\"LampaHalo3\").hide()
	
	Utils.game.core.add_lumen_slots(3)
	for i in Save.campaign.get_chunk_count():
		Utils.game.core.lumen_slots.enable_chamber(Utils.game.core.lumen_slots.get_node(\"Chambers\").get_child(i))
	
	Save.connect(\"tech_unlocked\", Callable(self, \"on_tech_unlocked\"))
	Save.connect(\"unclocked_tech_number\", Callable(self, \"on_tech_unlocked2\"))
	
	if not Save.campaign.current_map.is_empty():
		Save.campaign.current_map = \"\"
		if Save.campaign.last:
			Save.block_save_by(\"endgame\")
		elif Save.campaign.new_building.is_empty():
			create_tween().tween_interval(1.0).connect(\"finished\", Callable(Save, \"save_game\").bind(\"CampaignAutosave\"))
	
	if Save.campaign.first:
		Save.campaign.first = false
		Utils.game.ui.on_screen_message.add_message(\"Welcome Scout!\\nSo you got to the base in one piece, good. I’d say I hope you’ll find it adequate, but I won’t - after all, it’s your job to expand it.\\nAs a reminder - your mission is acquiring 3 Lumen Chunks. They are huge rocks of very condensed Lumen. It's the ultimate energy source. 3 of them will be enough to cover all our energy needs for a few hundreds years.\\nUltimately, we want to establish a settlement here. The Earth became unhabitable, so this is our only chance.\\nGo to the Elevator and delve down to complete missions. Missions will yield you rewards, including new buildings for your base.\\nUse the facilities provided to upgrade your gear and constructions. It's crucial for your success.\\nGood luck Scout! The fate of humanity depends on you.\")
	elif Save.campaign.first2:
		Save.campaign.first2 = false
		Utils.game.ui.on_screen_message.add_message(\"Good job, you finished your first mission. You can use the Lumen you got as a reward to buy upgrades.\")
	
	await get_tree().create_timer(1.0, false).timeout
	
	for building in get_tree().get_nodes_in_group(\"player_buildings\"):
		building.hp = 10000000
		
		if building.building_data.name in BLOCKING_BUILDINGS:
			$\"%Elevator\".blocking_buildings.append(building)
		
		match building.building_data.name:
			\"Lab\":
				building.get_node(\"Computer_roll/LabComputer2\").set_no_item()
				building.time_ratio = 0.2
			\"Scout Center\":
				building.get_node(\"player_id_screen\").hide()
			\"Health Center\":
				building.get_node(\"GenericComputer\").locked = true
				building.get_node(\"GenericComputer2\").locked = true
			\"Lumen Beam\":
				building.get_node(\"Computer\").queue_free()
				building.computer = null
			\"Pistol Workshop\", \"Rocket Launcher Workshop\", \"Shotgun Workshop\", \"Machinegun Workshop\", \"Flamethrower Workshop\":
				building.stands.get_child(0).locked = true
				building.stands.get_child(1).locked = true
			\"Spear Workshop\", \"Drill Workshop\":
				building.stands.get_child(0).locked = true
			\"Explosive Workshop\", \"Utility Workshop\":
				for stand in building.stands.get_children():
					stand.locked = true
			\"Lumen Farm\":
				building.get_node(\"UpgradeComputer\").locked = true
				building.get_node(\"UpgradeComputer2\").locked = true
			\"Storage Container\":
				building.get_node(\"Metal_Computer\").locked = true
				building.get_node(\"Lumen_Computer\").locked = true
			\"Gate\":
				if Save.campaign.last:
					building.hp = building.max_hp
			_:
				if building.building_data.name.ends_with(\"Turret\"):
					building.get_node(\"TurretComputer\").set_disabled(true)
	
	if Save.campaign.last:
		$\"%HubMusic\".stop()
		
		map.wave_manager.connect(\"wave_defeated\", Callable(self, \"on_defeat_wave\"))
	else:
		$\"%HubMusic\".randomize_music()

func on_tech_unlocked(tech):
	Save.campaign.lab_technologies.append(tech)
	store_campaign_resources()

func on_tech_unlocked2(tech, level):
	if tech.begins_with(\"player1\"):
		return
	
	Save.campaign.player_upgrades[tech.get_slice(\"0\", 1)] = level
	store_campaign_resources()

func store_campaign_resources():
	for id in Save.campaign.resources:
		Save.campaign.resources[id] = Utils.game.main_player.get_item_count(id)

func on_defeat_wave():
	if not map.wave_manager.is_finished():
		return
	
	$\"%AudioStreamPlayer2dont_touch\".process_mode = Node.PROCESS_MODE_ALWAYS
	$\"%AudioStreamPlayer3dont_touch\".process_mode = Node.PROCESS_MODE_ALWAYS
	await get_tree().create_timer(2.0, false).timeout
	Utils.game.ui.on_screen_message.add_message(\"Good job, Scout!\\nYou have sucessfully secured the three Lumen chunks. This solves our energy problems for a very long time. The humanity can now rebuild in peace, all thanks to your hard work and persistence. You are a hero!\\nWhat will you do now? Retire and lead a quiet life, in the newly established settlement? Ha, who am I joking. Your help is still needed. If you feel like you need more action, and I bet you do, there is one final assignment. Head to the elevator for more info.\\nWhatever you choose, we thank you on behalf of the whole human race. Good luck in your future endeavours, Scout!\")
	await Utils.game.ui.on_screen_message.finished
	await get_tree().create_timer(2.0).timeout
	Save.block_save.erase(\"endgame\")
	Save.save_game(\"CampaignAutosave\")

func _get_save_data() -> Dictionary:
	for building in $\"%Elevator\".blocking_buildings:
		if $\"%Elevator\".is_blocking(building):
			if building.building_name == \"Lab\":
				Save.unlock_tech(building.making)
			elif building.building_name.ends_with(\"Workshop\"):
				Save.set_unlocked_tech(str(building.finished_item.upgrade.item, building.finished_item.upgrade.upgrade), building.finished_item.upgrade.level)
	
	return {}
"

[sub_resource type="GDScript" id=82]
resource_name = "WorkshopIcon"
script/source = "extends Sprite2D

@export var target_workshop: NodePath

func _enter_tree() -> void:
	get_node(target_workshop).set_meta(\"workshop_icon\", self)
"

[sub_resource type="GDScript" id=77]
resource_name = "BuildingApocalypsor"
script/source = "extends Node2D

var focus_building: Node2D

func _enter_tree() -> void:
	for building in get_children():
		var building_data: Dictionary
		
		for b in Const.Buildings.values():
			if not \"icon\" in b:
				continue
			
			if b.icon == building.filename:
				building_data = b
				break
		
		var instance = load(building_data.scene).instantiate()
		instance.position = building.position
		if instance is BaseBuilding:
			instance.angle = building.rotation
		else:
			instance.rotation = building.rotation
		
		if instance is BaseBuilding and building_data.name != \"Power Expander\" and\\
				(not building_data.name in Save.campaign.available_buildings or building_data.name == Save.campaign.new_building):
			instance.disable_power = true
			instance.modulate.v = 0.4
			
			if building_data.name != Save.campaign.new_building:
				var not_unlocked: Node2D = building.get_node_or_null(@\"NotUnlocked\")
				if not_unlocked:
					building.remove_child(not_unlocked)
					not_unlocked.position *= building.scale
				else:
					not_unlocked = preload(\"res://Maps/Campaign/HubNodes/BuildingNotUnlocked.tscn\").instantiate()
				
				if building.has_meta(\"workshop_icon\"):
					not_unlocked.workshop_icon = building.get_meta(\"workshop_icon\")
				
				instance.add_child(not_unlocked)
				instance.global_rotation = 0
				if not_unlocked.workshop_icon:
					not_unlocked.position = instance.to_local(not_unlocked.workshop_icon.global_position)
		
		if building_data.name == Save.campaign.new_building:
			focus_building = instance
		
		add_child(instance)
		
		building.queue_free()
	
	if focus_building:
		var tween := create_tween()
		tween.tween_callback(Callable(Utils.game.ui, \"start_cutscene\"))
		tween.tween_interval(0.5)
		tween.tween_property(Utils.game.camera, \"is_camera_following\", false, 0.0)
		tween.tween_property(Utils.game.camera, \"target_position\", focus_building.global_position, 0.5).set_trans(Tween.TRANS_SINE)
		tween.tween_interval(0.5)
		if focus_building is BaseBuilding:
			tween.tween_property(focus_building, \"disable_power\", false, 1.0)
			tween.parallel().tween_property(focus_building, \"modulate:v\", 1.0, 1.0)
			tween.tween_property(focus_building, \"modulate\", Color(3, 3, 3), 0.2)
			tween.tween_property(focus_building, \"modulate\", Color.WHITE, 0.2)
			tween.tween_property(focus_building, \"modulate\", Color(3, 3, 3), 0.2)
			tween.tween_property(focus_building, \"modulate\", Color.WHITE, 0.2)
			tween.tween_property(focus_building, \"modulate\", Color(3, 3, 3), 0.2)
			tween.tween_property(focus_building, \"modulate\", Color.WHITE, 0.2)
			
		tween.tween_interval(0.5)
		tween.tween_property(Utils.game.camera, \"is_camera_following\", true,0.0)
		tween.tween_callback(Callable(Utils.game.ui, \"finish_cutscene\"))
		tween.tween_interval(0.5)
		if not Save.campaign.last:
			tween.tween_callback(Callable(Save, \"save_game\").bind(\"CampaignAutosave\"))
		tween.tween_callback(Callable(self, \"reset\"))

func reset():
	Save.campaign.new_building = \"\"
	if Save.campaign.last:
		Save.campaign.last = false
		$\"%endgame\".endgame_start()
"

[sub_resource type="GDScript" id=78]
resource_name = "HubLaptop"
script/source = "extends \"res://Nodes/Objects/Deco/Laptop.gd\"

func _enter_tree() -> void:
	message = (tr(message.replace(\"\\\\n\", \"\\n\")) % Save.campaign.get_chunk_count())
"

[sub_resource type="Animation" id=4]
length = 20.0
tracks/0/type = "value"
tracks/0/path = NodePath("Sprite2D:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0, 5.7, 5.9, 6.5 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 0.901961, 0.380392, 1, 0 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0.858824 ), Color( 27.3686, 8.68235, 29.4118, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("Sprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PackedFloat32Array( 0, 5.7, 6.1 ),
"transitions": PackedFloat32Array( 1, 1, 1 ),
"update": 0,
"values": [ 0, 0, 31 ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("Sprite2D:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PackedFloat32Array( 0, 5.8 ),
"transitions": PackedFloat32Array( 1, 1 ),
"update": 0,
"values": [ Vector2( 0.2, 0.2 ), Vector2( 0.8, 0.8 ) ]
}
tracks/3/type = "method"
tracks/3/path = NodePath(".")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PackedFloat32Array( 5.6 ),
"transitions": PackedFloat32Array( 1 ),
"values": [ {
"args": [  ],
"method": "emp"
} ]
}

[sub_resource type="Animation" id=5]
resource_name = "emp_hub"
length = 50.0
tracks/0/type = "value"
tracks/0/path = NodePath("../Core/Emp/Sprite2D:self_modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PackedFloat32Array( 0, 5.7, 5.9, 6.5, 8.4, 10.6, 12.6, 14.6, 16.6, 18.3, 20.3, 22.1, 24.1, 26.1, 28.1, 29.8, 31.8, 33.3, 35.3, 37.3, 39.3, 43.3 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 0.901961, 0.380392, 1, 0 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0.858824 ), Color( 27.3686, 8.68235, 29.4118, 0.117647 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0.117647 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0.117647 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0.117647 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0.117647 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0.117647 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0.117647 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0.117647 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0.117647 ), Color( 3.04706, 1.86275, 11.2275, 0.92549 ), Color( 27.3686, 8.68235, 29.4118, 0 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("../Core/Emp/Sprite2D:frame")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PackedFloat32Array( 0, 5.7 ),
"transitions": PackedFloat32Array( 1, 1 ),
"update": 0,
"values": [ 0, 0 ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("../Core/Emp/Sprite2D:scale")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PackedFloat32Array( 0, 5.8 ),
"transitions": PackedFloat32Array( 1, 1 ),
"update": 0,
"values": [ Vector2( 0.2, 0.2 ), Vector2( 0.8, 0.8 ) ]
}
tracks/3/type = "method"
tracks/3/path = NodePath("../Core/Emp")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PackedFloat32Array( 5.6, 44 ),
"transitions": PackedFloat32Array( 1, 1 ),
"values": [ {
"args": [  ],
"method": "emp"
}, {
"args": [  ],
"method": "emp"
} ]
}
tracks/4/type = "audio"
tracks/4/path = NodePath("../Core/Emp/AudioStreamPlayer2D")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/keys = {
"clips": [ {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource( 49 )
} ],
"times": PackedFloat32Array( 0 )
}
tracks/5/type = "value"
tracks/5/path = NodePath("../Core/Emp/Sprite2D:position")
tracks/5/interp = 1
tracks/5/loop_wrap = true
tracks/5/imported = false
tracks/5/enabled = true
tracks/5/keys = {
"times": PackedFloat32Array( 0 ),
"transitions": PackedFloat32Array( 1 ),
"update": 0,
"values": [ Vector2( 0, 0 ) ]
}
tracks/6/type = "value"
tracks/6/path = NodePath("LightSprite:scale")
tracks/6/interp = 2
tracks/6/loop_wrap = true
tracks/6/imported = false
tracks/6/enabled = true
tracks/6/keys = {
"times": PackedFloat32Array( 0, 5.5, 6.3, 6.9, 7.6, 8.2, 8.8, 9.5, 10.1, 10.7, 11.4, 12, 12.6, 13.3, 15.6, 16.3, 16.9, 17.5, 18.2, 18.8, 19.4, 20.1, 20.7, 21.3, 22, 25, 25.7, 26.3, 26.9, 27.6, 28.2, 28.8, 29.5, 30.1, 30.7, 31.4, 33.9, 34.6, 35.2, 35.8, 36.5, 37.1, 37.7, 38.4, 39, 39.6, 40.3 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 0, 0 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ), Vector2( 6, 6 ), Vector2( 6.2, 6.2 ), Vector2( 6, 6 ) ]
}
tracks/7/type = "value"
tracks/7/path = NodePath("LightSprite:modulate")
tracks/7/interp = 1
tracks/7/loop_wrap = true
tracks/7/imported = false
tracks/7/enabled = true
tracks/7/keys = {
"times": PackedFloat32Array( 0.1, 5.5, 6.3, 6.9, 7.7, 8.3, 9.41, 10.01, 10.91, 11.51, 12.3, 12.9, 15, 15.6, 16.4, 17, 18.11, 18.71, 19.61, 20.21, 21, 21.6, 24.4, 25, 25.8, 26.4, 27.51, 28.11, 29.01, 29.61, 30.4, 42, 43.5 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 0,
"values": [ Color( 93.1176, 34.5294, 84.4784, 0 ), Color( 93.1176, 34.5294, 84.4784, 0 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 77.27, 34.53, 100, 1 ), Color( 100, 34.53, 68.96, 1 ), Color( 100, 34.5294, 68.9608, 0 ) ]
}
tracks/8/type = "audio"
tracks/8/path = NodePath("AudioStreamPlayer")
tracks/8/interp = 1
tracks/8/loop_wrap = true
tracks/8/imported = false
tracks/8/enabled = true
tracks/8/keys = {
"clips": [ {
"end_offset": 0.0,
"start_offset": 0.0,
"stream": ExtResource( 56 )
} ],
"times": PackedFloat32Array( 0 )
}
tracks/9/type = "value"
tracks/9/path = NodePath("../Core/Emp/Area2D/CollisionShape2D:disabled")
tracks/9/interp = 1
tracks/9/loop_wrap = true
tracks/9/imported = false
tracks/9/enabled = true
tracks/9/keys = {
"times": PackedFloat32Array( 5.5, 5.8, 7.8, 8.1, 10.1, 10.4, 14.6, 14.8, 20.2, 20.3, 22.8, 22.9, 26.7, 27, 29.9, 30.1, 33.7, 34, 36.4, 36.6, 39.5, 39.7, 42.3, 42.6, 45 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 ),
"update": 1,
"values": [ true, false, true, false, true, false, true, false, true, false, true, false, true, false, true, false, true, false, true, false, true, false, true, false, true ]
}
tracks/10/type = "value"
tracks/10/path = NodePath("../Core/Emp/Area2D/CollisionShape2D:shape:radius")
tracks/10/interp = 1
tracks/10/loop_wrap = true
tracks/10/imported = false
tracks/10/enabled = true
tracks/10/keys = {
"times": PackedFloat32Array( 0, 5.8, 6.7 ),
"transitions": PackedFloat32Array( 1, 1, 1 ),
"update": 0,
"values": [ 1.0, 1.0, 360.0 ]
}
tracks/11/type = "value"
tracks/11/path = NodePath("LightSprite:dirty")
tracks/11/interp = 1
tracks/11/loop_wrap = true
tracks/11/imported = false
tracks/11/enabled = true
tracks/11/keys = {
"times": PackedFloat32Array( 0 ),
"transitions": PackedFloat32Array( 1 ),
"update": 1,
"values": [ true ]
}
tracks/12/type = "method"
tracks/12/path = NodePath(".")
tracks/12/interp = 1
tracks/12/loop_wrap = true
tracks/12/imported = false
tracks/12/enabled = true
tracks/12/keys = {
"times": PackedFloat32Array( 0.7, 44, 49.9, 50 ),
"transitions": PackedFloat32Array( 1, 1, 1, 1 ),
"values": [ {
"args": [  ],
"method": "player_ignored"
}, {
"args": [  ],
"method": "kill_all_enemies"
}, {
"args": [  ],
"method": "player_unignored"
}, {
"args": [  ],
"method": "kill_all_enemies"
} ]
}

[sub_resource type="GDScript" id=80]
script/source = "extends AudioStreamPlayer

func randomize_music():
#	var music = \"Set\" + str(randi() % 2 + 1)
#	stream = Music.get(music).intense
	var rng = RandomNumberGenerator.new()
	rng.randomize()
	stream = load(Music.Campaign.get(\"hub%s\" % rng.randi_range(1, 3)))
	play()
"

[sub_resource type="GDScript" id=81]
script/source = "extends \"res://Nodes/Objects/Helper/Events/Marker.gd\"

func _enter_tree() -> void:
	if Save.campaign.first:
		mode = 3
	else:
		queue_free()
"

[sub_resource type="GDScript" id=84]
script/source = "extends TextureRect

func _ready() -> void:
	update_status()

func update_status():
	visible = SteamAPI.active and not SteamAPI.can_achieve()
"

[node name="Map" type="Node2D"]
material = SubResource( 70 )
z_as_relative = false
script = ExtResource( 14 )
disable_fog_of_war = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = ExtResource( 17 )

[node name="PixelMap" type="PixelMap" parent="."]
process_priority = 100
material_data = SubResource( 72 )
texture_path = "res://Maps/Campaign/Hub.png"
script = ExtResource( 2 )
__meta__ = {
"_edit_lock_": true
}
custom_materials = [ null, null, null, null, null, null ]

[node name="PixelMapPhysics" type="PixelMapPhysics" parent="PixelMap"]

[node name="DarknessByDistance" parent="PixelMap" instance=ExtResource( 39 )]
gradient = SubResource( 79 )
max_distance = 450.0

[node name="Smoke" type="Node2D" parent="PixelMap"]
z_index = -98
z_as_relative = false
__meta__ = {
"_edit_lock_": true
}

[node name="Smoke" type="Sprite2D" parent="PixelMap/Smoke"]
modulate = Color( 1, 0.470588, 0, 1 )
self_modulate = Color( 0.117647, 0.0901961, 0.364706, 1 )
material = SubResource( 20 )
position = Vector2( 167.369, 368.588 )
scale = Vector2( 637.267, 328.963 )
z_index = 4096
texture = ExtResource( 41 )
centered = false
script = SubResource( 21 )

[node name="ZIndexer" parent="PixelMap/Smoke" instance=ExtResource( 20 )]
z_index = 900
offset = -998

[node name="PixelMapFloor" parent="PixelMap" instance=ExtResource( 25 )]
visible = false

[node name="BacgroudHub2" type="Node2D" parent="."]
position = Vector2( 511.992, 511.938 )
scale = Vector2( 0.124987, 0.125 )
z_index = -1002
z_as_relative = false
script = SubResource( 83 )
__meta__ = {
"_edit_lock_": true
}

[node name="ZIndexer" parent="BacgroudHub2" instance=ExtResource( 20 )]
z_index = -1000
offset = -2

[node name="Floor" type="PixelMap" parent="."]
process_priority = 100
visible = false
material = SubResource( 75 )
scale = Vector2( 8, 8 )
z_index = -2000
z_as_relative = false
fake_pixel_map = true
material_data = SubResource( 1 )
texture_path = "res://Maps/Campaign/HubFloor.png"
debug_flags = 4
script = ExtResource( 52 )
__meta__ = {
"_edit_lock_": true
}
textures = [ ExtResource( 53 ), null, null, null ]
custom_material = true

[node name="ZIndexer" parent="Floor" instance=ExtResource( 20 )]
z_index = -1000
offset = -1000

[node name="Floor2" type="PixelMap" parent="."]
process_priority = 100
visible = false
material = SubResource( 74 )
scale = Vector2( 8, 8 )
z_index = -2000
z_as_relative = false
fake_pixel_map = true
material_data = SubResource( 1 )
texture_path = "res://Maps/Campaign/HubFloor2.png"
debug_flags = 4
script = ExtResource( 52 )
__meta__ = {
"_edit_lock_": true
}
textures = [ null, null, null, null ]
custom_material = true

[node name="ZIndexer" parent="Floor2" instance=ExtResource( 20 )]
z_index = -1000
offset = -1000

[node name="MapEvents" type="Node" parent="."]
script = SubResource( 76 )

[node name="Core" parent="." instance=ExtResource( 7 )]
position = Vector2( 506, 469 )
start_on = true
enabled_screens = 1

[node name="Icon" parent="Core/Sprite2D/Computer4/GenericComputer" index="3"]
visible = true

[node name="Label" parent="Core/Sprite2D/Computer4/GenericComputer" index="6"]
visible = true
offset_left = -161.0
offset_top = -62.0
offset_right = -83.0
offset_bottom = 41.0
rotation = 270.0
pivot_offset = Vector2( 158, 51 )
text = "8"

[node name="icons_overlay" type="Node2D" parent="."]
z_index = 4002

[node name="Item" type="Sprite2D" parent="icons_overlay"]
modulate = Color( 2, 1, 0, 1 )
position = Vector2( 469, 596 )
rotation = 0.785398
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 57 )
script = SubResource( 82 )
target_workshop = NodePath("../../Buildings/SpearWorkshop")

[node name="darker_bg7" type="Sprite2D" parent="icons_overlay/Item"]
modulate = Color( 0, 0, 0, 0.670588 )
show_behind_parent = true
position = Vector2( -3.26758, 6.51953 )
rotation = -0.785398
scale = Vector2( 0.8, 0.8 )
texture = ExtResource( 61 )

[node name="Item2" type="Sprite2D" parent="icons_overlay"]
modulate = Color( 2, 1, 0, 1 )
position = Vector2( 527, 593 )
scale = Vector2( 0.1, 0.1 )
texture = ExtResource( 64 )
script = SubResource( 82 )
target_workshop = NodePath("../../Buildings/PistolWorkshop")

[node name="darker_bg6" type="Sprite2D" parent="icons_overlay/Item2"]
modulate = Color( 0, 0, 0, 0.670588 )
show_behind_parent = true
position = Vector2( -7.99023, 3.49951 )
scale = Vector2( 0.8, 0.8 )
texture = ExtResource( 61 )

[node name="Item4" type="Sprite2D" parent="icons_overlay"]
modulate = Color( 2, 1, 0, 1 )
position = Vector2( 587, 592 )
rotation = -1.5708
scale = Vector2( 0.1, 0.15 )
texture = ExtResource( 62 )
script = SubResource( 82 )
target_workshop = NodePath("../../Buildings/DrillWorkshop")

[node name="darker_bg5" type="Sprite2D" parent="icons_overlay/Item4"]
modulate = Color( 0, 0, 0, 0.670588 )
show_behind_parent = true
position = Vector2( -2.29932, -4.99341 )
rotation = 1.5708
scale = Vector2( 0.533333, 0.8 )
texture = ExtResource( 61 )

[node name="Item5" type="Sprite2D" parent="icons_overlay"]
modulate = Color( 2, 1, 0, 1 )
position = Vector2( 262, 599 )
scale = Vector2( 0.12, 0.15 )
texture = ExtResource( 65 )
script = SubResource( 82 )
target_workshop = NodePath("../../Buildings/MachinegunWorkshop")

[node name="darker_bg4" type="Sprite2D" parent="icons_overlay/Item5"]
modulate = Color( 0, 0, 0, 0.670588 )
show_behind_parent = true
position = Vector2( -7.9917, 3.49316 )
scale = Vector2( 0.666667, 0.533333 )
texture = ExtResource( 61 )

[node name="Item6" type="Sprite2D" parent="icons_overlay"]
modulate = Color( 2, 1, 0, 1 )
position = Vector2( 157.199, 670.821 )
scale = Vector2( 0.12, 0.15 )
texture = ExtResource( 66 )
script = SubResource( 82 )
target_workshop = NodePath("../../Buildings/ShotgunWorkshop")

[node name="darker_bg3" type="Sprite2D" parent="icons_overlay/Item6"]
modulate = Color( 0, 0, 0, 0.670588 )
show_behind_parent = true
position = Vector2( -7.9917, 2.79297 )
scale = Vector2( 0.666667, 0.533333 )
texture = ExtResource( 61 )

[node name="Item7" type="Sprite2D" parent="icons_overlay"]
modulate = Color( 2, 1, 0, 1 )
position = Vector2( 204.845, 593.02 )
scale = Vector2( 0.12, 0.12 )
texture = ExtResource( 67 )
script = SubResource( 82 )
target_workshop = NodePath("../../Buildings/RocketLauncherWorkshop")

[node name="darker_bg2" type="Sprite2D" parent="icons_overlay/Item7"]
modulate = Color( 0, 0, 0, 0.670588 )
show_behind_parent = true
position = Vector2( -7.9917, 3.2749 )
scale = Vector2( 0.666667, 0.666667 )
texture = ExtResource( 61 )

[node name="Item8" type="Sprite2D" parent="icons_overlay"]
modulate = Color( 2, 1, 0, 1 )
position = Vector2( 268, 709 )
scale = Vector2( 0.12, 0.1 )
texture = ExtResource( 63 )
script = SubResource( 82 )
target_workshop = NodePath("../../Buildings/FlamethrowerWorkshop")

[node name="darker_bg" type="Sprite2D" parent="icons_overlay/Item8"]
modulate = Color( 0, 0, 0, 0.670588 )
show_behind_parent = true
position = Vector2( 0, -10 )
scale = Vector2( 0.666667, 0.8 )
texture = ExtResource( 61 )

[node name="Buildings" type="Node2D" parent="."]
script = SubResource( 77 )

[node name="LumenCannon" parent="Buildings" instance=ExtResource( 22 )]
position = Vector2( 425, 759 )
rotation = 2.50447
z_index = 100

[node name="LumenCannon2" parent="Buildings" instance=ExtResource( 22 )]
position = Vector2( 73, 692 )
rotation = -2.86948
z_index = 100

[node name="LumenCannon3" parent="Buildings" instance=ExtResource( 22 )]
position = Vector2( 376, 812 )
rotation = 3.05657
z_index = 100

[node name="Farm" parent="Buildings" instance=ExtResource( 30 )]
modulate = Color( 0.882353, 0.960784, 1, 1 )
position = Vector2( 653.719, 399.486 )
z_index = 100

[node name="NotUnlocked" parent="Buildings/Farm" instance=ExtResource( 68 )]
position = Vector2( -21.7046, -3.64258 )

[node name="HealthCenter" parent="Buildings" instance=ExtResource( 19 )]
modulate = Color( 0.717647, 0.74902, 1, 1 )
self_modulate = Color( 1, 0.905882, 0.803922, 1 )
position = Vector2( 501, 685 )
z_index = 100

[node name="NotUnlocked" parent="Buildings/HealthCenter" instance=ExtResource( 68 )]
position = Vector2( 0.171875, 50.6309 )

[node name="InfoCenter" parent="Buildings" instance=ExtResource( 33 )]
modulate = Color( 0.737255, 0.729412, 0.717647, 1 )
position = Vector2( 351, 598 )
z_index = 100

[node name="NotUnlocked" parent="Buildings/InfoCenter" instance=ExtResource( 68 )]
position = Vector2( -0.495605, -0.702637 )

[node name="Pylon2" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 624.927, 555.604 )
z_index = 100

[node name="Pylon6" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 652.675, 456.899 )
z_index = 100

[node name="Pylon7" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 731.758, 394.466 )
z_index = 100

[node name="Pylon3" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 312.867, 351.527 )
z_index = 100

[node name="Pylon11" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 419.99, 579.272 )
z_index = 100

[node name="Pylon13" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 334.367, 573.095 )
z_index = 100

[node name="Pylon22" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 486.248, 651.616 )
z_index = 100

[node name="Pylon15" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 306.25, 698.223 )
z_index = 100

[node name="Pylon16" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 235.446, 681.089 )
z_index = 100

[node name="Pylon18" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 226.992, 571.187 )
z_index = 100

[node name="Pylon23" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 179.446, 738.589 )
z_index = 100

[node name="Pylon24" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 179.446, 738.589 )
z_index = 100

[node name="Pylon17" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 113.866, 684.719 )
z_index = 100

[node name="Pylon19" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 318.884, 752.142 )
z_index = 100

[node name="Pylon20" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 462.492, 732.577 )
z_index = 100

[node name="Pylon21" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 558.114, 618.294 )
z_index = 100

[node name="Pylon12" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 280.199, 621.883 )
z_index = 100

[node name="Pylon4" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 636.668, 268.767 )
z_index = 100

[node name="Pylon9" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 555.604, 218.622 )
z_index = 100

[node name="Pylon10" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 712.777, 309.001 )
z_index = 100

[node name="Pylon8" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 510.726, 324.485 )
z_index = 100

[node name="Pylon14" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 408.092, 375.678 )
z_index = 100

[node name="Pylon5" parent="Buildings" instance=ExtResource( 8 )]
modulate = Color( 0.568627, 0.694118, 0.92549, 1 )
position = Vector2( 781.243, 334.45 )
z_index = 100

[node name="Shredder" parent="Buildings" instance=ExtResource( 27 )]
modulate = Color( 0.886275, 0.823529, 0.996078, 1 )
position = Vector2( 552, 272 )
z_index = 100

[node name="NotUnlocked" parent="Buildings/Shredder" instance=ExtResource( 68 )]
position = Vector2( 0.343994, 0.137207 )

[node name="Stand" parent="Buildings" instance=ExtResource( 9 )]
modulate = Color( 0.419608, 0.407843, 0.333333, 1 )
position = Vector2( 751, 330 )
rotation = 1.55089
z_index = 100

[node name="NotUnlocked" parent="Buildings/Stand" instance=ExtResource( 68 )]

[node name="Stand2" parent="Buildings" instance=ExtResource( 9 )]
modulate = Color( 0.419608, 0.407843, 0.333333, 1 )
position = Vector2( 608, 246 )
rotation = -0.00542796
z_index = 100

[node name="Tower" parent="Buildings" instance=ExtResource( 28 )]
modulate = Color( 0.603922, 0.639216, 0.65098, 1 )
position = Vector2( 294, 791 )
rotation = 1.33381
z_index = 100

[node name="Tower2" parent="Buildings" instance=ExtResource( 28 )]
modulate = Color( 0.603922, 0.639216, 0.65098, 1 )
position = Vector2( 175, 748 )
rotation = 2.07543
z_index = 100

[node name="Tower3" parent="Buildings" instance=ExtResource( 28 )]
modulate = Color( 0.603922, 0.639216, 0.65098, 1 )
position = Vector2( 464, 743 )
rotation = 1.45209
z_index = 100

[node name="Tower6" parent="Buildings" instance=ExtResource( 28 )]
modulate = Color( 0.603922, 0.639216, 0.65098, 1 )
position = Vector2( 697, 498 )
rotation = 0.558186
z_index = 100

[node name="Tower5" parent="Buildings" instance=ExtResource( 28 )]
modulate = Color( 0.603922, 0.639216, 0.65098, 1 )
position = Vector2( 601, 677 )
rotation = 0.82357
z_index = 100

[node name="Tower4" parent="Buildings" instance=ExtResource( 28 )]
modulate = Color( 0.603922, 0.639216, 0.65098, 1 )
position = Vector2( 794, 396 )
rotation = 0.41936
z_index = 100

[node name="BombTurret" parent="Buildings" instance=ExtResource( 10 )]
modulate = Color( 1, 0.980392, 0.815686, 1 )
position = Vector2( 532, 741 )
rotation = 0.696243
z_index = 100

[node name="BombTurret2" parent="Buildings" instance=ExtResource( 10 )]
modulate = Color( 1, 0.980392, 0.815686, 1 )
position = Vector2( 778, 425 )
rotation = 0.528184
z_index = 100

[node name="MachinegunTurret" parent="Buildings" instance=ExtResource( 15 )]
modulate = Color( 0.756863, 0.631373, 0.654902, 1 )
position = Vector2( 737, 463 )
rotation = 0.885336
z_index = 100

[node name="MachinegunTurret2" parent="Buildings" instance=ExtResource( 15 )]
modulate = Color( 0.803922, 0.8, 0.878431, 1 )
position = Vector2( 335, 796 )
rotation = 1.55074
z_index = 100

[node name="MachinegunTurret4" parent="Buildings" instance=ExtResource( 15 )]
modulate = Color( 0.803922, 0.8, 0.878431, 1 )
position = Vector2( 656, 619 )
rotation = 0.823711
z_index = 100

[node name="MachinegunTurret5" parent="Buildings" instance=ExtResource( 15 )]
modulate = Color( 0.803922, 0.8, 0.878431, 1 )
position = Vector2( 680, 582 )
rotation = 0.823711
z_index = 100

[node name="MachinegunTurret3" parent="Buildings" instance=ExtResource( 15 )]
modulate = Color( 0.803922, 0.8, 0.878431, 1 )
position = Vector2( 147, 736 )
rotation = 2.01215
z_index = 100

[node name="SniperTurret" parent="Buildings" instance=ExtResource( 18 )]
modulate = Color( 0.733333, 0.913725, 1, 1 )
position = Vector2( 759, 444 )
rotation = 0.777792
z_index = 100

[node name="SniperTurret2" parent="Buildings" instance=ExtResource( 18 )]
modulate = Color( 0.733333, 0.913725, 1, 1 )
position = Vector2( 120, 717 )
rotation = 1.86564
z_index = 100

[node name="SniperTurret3" parent="Buildings" instance=ExtResource( 18 )]
modulate = Color( 0.733333, 0.913725, 1, 1 )
position = Vector2( 229, 777 )
rotation = 2.16429
z_index = 100

[node name="Wall" parent="Buildings" instance=ExtResource( 34 )]
position = Vector2( 619, 203 )
rotation = 0.523599

[node name="Wall2" parent="Buildings" instance=ExtResource( 34 )]
position = Vector2( 787, 301 )
rotation = 0.523599

[node name="DrillWorkshop" parent="Buildings" instance=ExtResource( 13 )]
position = Vector2( 574, 595 )

[node name="MachinegunWorkshop" parent="Buildings" instance=ExtResource( 23 )]
position = Vector2( 249, 596 )

[node name="PistolWorkshop" parent="Buildings" instance=ExtResource( 11 )]
position = Vector2( 515, 596 )

[node name="RocketLauncherWorkshop" parent="Buildings" instance=ExtResource( 31 )]
position = Vector2( 193, 596 )
z_index = 1

[node name="ShotgunWorkshop" parent="Buildings" instance=ExtResource( 21 )]
position = Vector2( 145, 668 )
z_index = 1

[node name="SpearWorkshop" parent="Buildings" instance=ExtResource( 24 )]
position = Vector2( 456, 594 )

[node name="ExplosiveWorkshop" parent="Buildings" instance=ExtResource( 26 )]
position = Vector2( 348, 720 )

[node name="NotUnlocked" parent="Buildings/ExplosiveWorkshop" instance=ExtResource( 68 )]
position = Vector2( 48, -24 )

[node name="UtilsWorkshop" parent="Buildings" instance=ExtResource( 29 )]
position = Vector2( 301, 380 )

[node name="NotUnlocked" parent="Buildings/UtilsWorkshop" instance=ExtResource( 68 )]
position = Vector2( 19.5781, -12.459 )

[node name="Gate" parent="Buildings" instance=ExtResource( 36 )]
position = Vector2( 705, 253 )
rotation = 0.523599

[node name="FlamethrowerWorkshop" parent="Buildings" instance=ExtResource( 32 )]
position = Vector2( 256, 706 )

[node name="BasicBuildings" type="Node2D" parent="."]

[node name="Elevator" parent="BasicBuildings" instance=ExtResource( 4 )]
unique_name_in_owner = true
position = Vector2( 454, 286 )

[node name="UI" parent="BasicBuildings/Elevator" index="4"]
visible = false

[node name="Lab" parent="BasicBuildings" instance=ExtResource( 16 )]
position = Vector2( 347, 480 )

[node name="HeroCenter" parent="BasicBuildings" instance=ExtResource( 1 )]
position = Vector2( 366, 376 )
owning_player_id = 0

[node name="Storage" parent="BasicBuildings" instance=ExtResource( 5 )]
unique_name_in_owner = true
position = Vector2( 304, 591 )
max_storage = 1000000

[node name="Laptop" parent="BasicBuildings" instance=ExtResource( 60 )]
position = Vector2( 558, 538 )
z_index = 200
script = SubResource( 78 )
message = "Main Mission Status\\n%d out of 3 Lumen Chunks delivered.\\n\\nHub Instructions\\nUse the Elevator to bring up mission selection screen and select your next destination.\\nCompleting missions will provide you with permanent rewards.\\nThe Lumen you get from completing missions can be used in Hub to permanently upgrade your performance.\\nUpgrades you unlock during mission will not carry to other missions."

[node name="Effects" type="Node2D" parent="."]
z_index = 500

[node name="Smoke_Clouds_Fog2" parent="Effects" instance=ExtResource( 37 )]

[node name="Smoke_Clouds_Fog3" parent="Effects" instance=ExtResource( 45 )]

[node name="Smoke_Clouds_Fog4" parent="Effects" instance=ExtResource( 44 )]

[node name="Smoke_Clouds_Fog5" parent="Effects" instance=ExtResource( 43 )]

[node name="WaveSpawner" parent="." instance=ExtResource( 35 )]
position = Vector2( 827, 122 )
radius = 50.0

[node name="Wind_Blowing" parent="." instance=ExtResource( 47 )]
bus = "Ambient"

[node name="Wind_Arctic" parent="." instance=ExtResource( 46 )]
position = Vector2( 145, 627 )
bus = "Ambient"

[node name="endgame" type="Node2D" parent="."]
unique_name_in_owner = true
script = ExtResource( 50 )

[node name="LightSprite" parent="endgame" instance=ExtResource( 48 )]
modulate = Color( 93.1176, 34.5294, 84.4784, 0 )
position = Vector2( 506, 469 )
scale = Vector2( 1e-05, 1e-05 )
texture = ExtResource( 51 )
drop_shadow = false

[node name="emp_hub_animator" type="AnimationPlayer" parent="endgame"]
unique_name_in_owner = true
anims/emp = SubResource( 4 )
anims/emp_hub = SubResource( 5 )

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="endgame"]
stream = ExtResource( 56 )
bus = "SFX"

[node name="AudioStreamPlayer2dont_touch" type="AudioStreamPlayer" parent="endgame"]
unique_name_in_owner = true
stream = ExtResource( 56 )
bus = "Music"

[node name="AudioStreamPlayer3dont_touch" type="AudioStreamPlayer" parent="endgame"]
unique_name_in_owner = true
stream = ExtResource( 56 )
bus = "Music"

[node name="HubMusic" type="AudioStreamPlayer" parent="."]
process_mode = 3
unique_name_in_owner = true
bus = "Music"
script = SubResource( 80 )

[node name="ElevatorMarker" type="Marker2D" parent="."]
position = Vector2( 454, 288 )
script = SubResource( 81 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="CanAchieve" type="TextureRect" parent="CanvasLayer"]
offset_left = 3736.0
offset_top = 472.0
offset_right = 3825.0
offset_bottom = 561.0
texture = ExtResource( 38 )
expand = true
stretch_mode = 6
script = SubResource( 84 )

[connection signal="finished" from="endgame/AudioStreamPlayer3dont_touch" to="HubMusic" method="randomize_music"]
[connection signal="finished" from="HubMusic" to="HubMusic" method="randomize_music"]

[editable path="Core"]
[editable path="Core/Sprite2D/Computer4/GenericComputer"]
[editable path="BasicBuildings/Elevator"]
